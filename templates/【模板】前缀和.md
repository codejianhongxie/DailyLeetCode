# 何为前缀和
前缀和分为一维前缀和与二位前缀和，核心思路是将指定元素前的所有元素的计算好并保存起来，使用时直接调用，不需要重复计算。

## 一维前缀和
有一个一维数组 $x$ 和该数组的一维前缀和数组 $y$，则 $x$ 和 $y$ 满足以下关系：
$$
y_0=x_0，y_1 = x_0+x_1，y_2 = x_0+x_1+x_2，......y_n=x_0+x_1+x_2+...+x_n 
$$
$$
y_n=y_{n-1} + x_n
$$
如下图：

![一维前缀和](../img/%E4%B8%80%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C.png)

## 二维前缀和
有一个二维数组 $x$ 和该数组的二维前缀和数组 $y$ (其同样是个二维数组），则 $x$ 和 $y$ 满足以下关系：
$$
y_{0,0}=x_{0,0}，y_{0,1}=x_{0,0}+x_{0,1}，y_{1,0}=x_{0,0}+x_{1,0}，y_{1,1}=x_{0,0}+x_{0,1}+x_{1,0}+x_{1,1},......
$$
$$
y_{n,m}=y_{n-1,m}+y_{n,m-1}-y_{n-1,m-1}+x_{n,n}
$$
如下图：
![二维前缀和](../img/%E4%BA%8C%E7%BB%B4%E5%89%8D%E7%BC%80%E5%92%8C.png)

右侧标注绿色的二维前缀和元素，其值是左侧的原二维数组中标注绿色的所有元素的和。


# 适用场景
+ 场景一：计算一维或者二维数组之间的数据和。
+ 场景二：作为数据的预处理，通常用于降低查询时的时间复杂度。

简单举个例子：
给定一个有 $n$ 个整数的数组，然后进行 $m$ 次询问，每次询问求一个区间内值的和。
采用暴力破解的写法，每次询问都需要从区间左端点循环到区间右端点求和，时间复杂度为 $O(n^2)$.
这种情况就可以预先求出该数组
这种时候就可以预先求出该数组的一维前缀和。则 $ans= prefix[R] - prefix[L-1]$, 其中 $L$ 和 $R$ 是给定的区间，每次询问可以直接获取答案，时间复杂度就降为 $O(N + M)$。

# 相关题目
+ [560. Subarray Sum Equals K](https://leetcode.com/problems/subarray-sum-equals-k/)